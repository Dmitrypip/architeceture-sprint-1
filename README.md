Уровень 1. Проектирование 
Для микрофронтенда будет использоваться фреймворк Module Federation как более подходящий по следующим критериям:
 - все микрофронденты будут использовать React по причине того, что монолит уже на React и нет необходимости вариативности фреймворков
 - большая база примеров разделения на микрофронтенды с различными вариантами маршрутизации и хранения состояний
 - разные команды смогут поддерживать разные микрофронтенды, но будет возможность переиспользовать людей в связи с едиными react фреймворком

На основе DDD предлагается разделить монолитный фронтенд на следующие микрофронтенды:
1. main-microfrontend - базовый shell для всех микрофрондендов, который будет импортировать компоненты из разных микрофронтдендов 
2. auth-microfrontend - представляет собой бизнес-домен на фронте, обеспечивающий работу с регистрацией и авториазацией пользователя 
3. profile-microfrontend - представляет собой бизнес-домен на фронте, беспечивающий изменение данных профиля 
4. cards-microfrontend -  представляет собой бизнес-домен на фронте, беспечивающий работу с карточками (добавление, удаление, отображение)

Уровень 2. Создание новых структур проекта для каждого микрофронтенда.
В каталоге microfrontend находится четыре каталога (проекта) микрофронтенда с новой структурой:

/microfrontend/auth-microfrontend - это проект микрофронтенда для реализации регистрации и аутентификации пользователя. 
Данный проект состоит из трех компонентов: Login.js, Register.js, InfoTooltip.js. 
Все три компонента экспортируются (через expose в webpack.config.js) и используются в основном базовом микрофронтенде  main-microfrontend. 

/microfrontend/profile-microfrontend - это проект микрофронтенда для реализации работы с профайлом пользовтаеля. 
Данный проект состоит из четырех компонентов: EditAvatarPopup.js, EditProfilePopup.js, ShowProfile.js, PopupWithForm.js 
Компонент ShowProfile.js это новый компонент, который получился разделением компонента Main.js из монолита. Необходимость выделения нового компонента вызвана тем, что в старом компоненте Main была связана область профайла пользователя и добавление места, что хотелось разделить на разные бизнес домены. Поэтому компонент ShowProfile  выдеделен отдельно. В монолите компонент PopupWithForms общий и много где используется и логично было бы его использовать в одном месте, но учитывая, что есть постановка о разделении на микрофронтенды с учетом разных команд, то такой общий компонент (шаблон) сильно бы связал микрофронтенды, чего не хотелось бы. Поэтому это компонент отднельно сущесвует в каждом микрофронтенде, где он используется.
В данном микрофронтенде  экспортируются (через expose в webpack.config.js) только три компонента (EditAvatarPopup.js, EditProfilePopup.js, ShowProfile.js) и используются в основном базовом микрофронтенде  main-microfrontend. 

/microfrontend/cards-microfrontend - это проект микрофронтенда для реализации работы с карточками мест пользовтаеля. 
Данный проект состоит из пяти компонентов:  AddPlacePopup.js Card.js  MainCards.js ImagePopup.js  PopupWithForm.js 
Компонент MainCards.js это новый компонент, который получился разделением компонента Main.js из монолита. Необходимость выделения нового компонента вызвана тем, что в старом компоненте Main была связана область профайла пользователя и добавление места, что хотелось разделить на разные бизнес домены. Поэтому компонент MainCards.js выделен также отдельно и реализует добавление места пользователя. Компонент PopupWithForm также продуьлирован здесь отдельно, чтобы команда которая будет развивать данный микрофронтенд имела свободу по его измнению и не зависила от какой-то общей реализации. Компонент Card представляет собой саму карточку места. А компонент ImagePopup определяет всплывающую картинку, что также теснее связано именно с контекстом карточек, чем с чем-то другим, поэтому этот компонент также выделен в этом микрофронтенде.
В данном микрофронтенде  экспортируются (через expose в webpack.config.js) только четыре компонента (EAddPlacePopup.js Card.js  MainCards.js ImagePopup.js ) и используются в основном базовом микрофронтенде  main-microfrontend. 

/microfrontend/cards-microfrontend - это проект базового микрофронтенда, который импортирует в себя компоенты из других микрофронтедов. Чтобы не плодить излишнее кол-во микрофронтедов данный базовый shell микрофрондент не просто shell, но также содержит в себе свои компоненты определяющие скелет фронт приложения. Ничего не мешает сделать только host, а общий скелет приложения выделить еще в один микрофронтенд, но тут это излишне.
Данный проект состоит из пяти своих компонентов: App.js, Footer.js, Header.js, ProtectedRoute.js, PopupWithForm.js.
Остальные компоненты данный проект импортирует (через remote в webpack.config.js) из других микрофронтендов. 
App.js это основной компоент приложения, Header и Footer определяют соответвествнно верхний и нижний разделы страницы-приложения. ProtectedRoute.js является hoc оберткой для невозможности рабоать без авториазции. Как и в других микрофронтендах компонент PopupWithForm здесь тоже свой, чтобы команда, которая будет развивать этот проект имела свободу его изменять не затрагивая другие команды (если необходимо).

P.S. Все стили и картинки также перенесены в соответсвующие микрофротенды. Также разнесены api и auth. 
В монолите используется устаревшая технология react по хранению общего состояния в контексте. Для реалиазции общнего состояния в данных проектах предлагаю использовать либо redux, либо обмен сообщениями. Обмен сообщениями предпочтителен так как хорошо изолирует сервисы(микрофронтенды) и избавляет от сложности redux. 

----------------------------------------------------------------------------------------------------------------
 ЗАДАНИЕ 2
 Ссылка на схему архитектуры: https://github.com/Dmitrypip/architeceture-sprint-1/blob/sprint_1/Arhitecture.drawio
 
 
ОПИСАНИЕ РЕШЕНИЯ:
Никакого бизнес-описания на систему нет, только функции. Причем похоже набор функций не полный, а указанные функции не содержат полного набора данных для своей работы. Имеем что имеем. 
Судя по функциям монолита, перед нами платформа онлайн-commerce, где одни пользователи-продавцы могут размещать позиции товаров и услуг на разных торговых площадках, а другие пользователи-покупатели могут приобретать товары или услуги. Один пользователь может размещать товары\услуги на разных торговых площадках. Если анализировать пользовательский интерфейс, то видется следующий укрупненный бизнес-процесс:
1. Пользователь создает заявку на регистрацию на платформе с указанием своих данных и роли
2. После одобрения заявки и регистрации на платформе, пользователь-продавец размещает товары и\или услуги к своему профилю. Пользователь-продавец может продавать товары\услуги двумя путями:
2.1 прямое приобретение, в этом случае товар или услуга, которую разместил пользователь-продавец приобретается как в обычном маркетплейсе по указанной цене. Учитывая, что не в функциях, не в объектах данных нет указания на какую-то корзину, то при покупке пользователь-покупатель формирует заказ и добавляет туда товары\услуги с последующим актом оплаты заказа
2.2 приобретение через аукцион. В этом случае пользователь-продавец формирует аукцион, а пользователи-покупатели будут участововать в аукционе через назначение максимальной цены покупки. Автоматическая система аукциона будет поднимать ставки, но не выше указанной максимальной цены. Перед участием в аукционе, необходимо сформировать заявку на участие. 

На основании DDD видется следующее разбиение на микросервисы:
1. Микросервис авторизации и пользователей 
2. Микросервис заказов
3. Микросервис товаров и услуг
4. Микросервис аукционов
5. Микросервис заявок
6. Микросервис уведомлений 
7. Микросервис платежей

Описание каждого микросервиса:
1.Микросервис авторизации и пользователей 
Сервис отвечает за авторизацию, аутентификацию и ведение данных профиля пользователя. Данный сервис также отвечает за ролевую модель.
Профиль пользователя не выделяется в отдельный сервис так как это избыточно, но ничего не мешает в дальнейшем разделить этот сервис на авторизацию и профиль. 

2.Микросервис заказов
Данный сервис отвечает за заказы, как основную операционную сущность. На основании архитектуры монолита не понятно в каком ракурсе выступают заказы, поэтому предположим, что любой операционный акт осуществляется через заказы. Например, Заказ может содержать несколько позиций товаров с разным количеством, или заказ может содержать услугу. Также предполагаем, что аукцион также осуществляется на заказ
Связь с товарами и услугами осуществляется через id конкретных позици товаров и услуг из другого сервиса

3.Микросервис товаров и услуг
Данный сервис служит для ведения добавляемых пользователями товаров и услуг. Связь товаров и услуг с конкретным пользователем осуществляется через id пользователя. Данный сервис, по сути, предтсавляет собой 
каталог товаров и услуг, соответсвенно функциональность связанная с поиском и фильтрацией также находится в этом сервисе. Так как товары и\или услуги размещаются на конкретной торговой площадки и нет в монолите функций по ведению торговых площадок, то можно счиатать, что данные о торговой площадке является атрибутами товаров и услуг. В дальнейшем, если будет предполгаться функциональность по развитию торговоых площадок, можно будет вывести ведение торговых площадок в отдельный сервис. 

4.Микросервис аукционов
Данный сервис необходим для функциональности работы с аукционами. Связь аукциона с заказом, и с пользователем осущетсвляется через id заказа и id пользователя. 

5.Микросервис заявок
Данный сервис выделен так как в системе сущетсвует много различных видов заявок. Хорошей практикой является выяление заявок в отдельном сервисе, как так заявка, по сути, это некоторая потребность в дейтсвии
с определенным маршрутом движения реализованной в виде статусной модели. Поэтому заявки на аппеляцию и на тех. обслуживание выделены в этот сервис. В дальнейшем при появлении новых видом заявок можно их реализовывать здесь. Отмечу, что заявка на регистрацию пока находится не в этом сервисе так как будет содержать данные пользователя и может получиться так, что из-за этих данных этот сервис придется обеспечивать определенными техническими и организационными методами защиты. Также заявка на участие в аукционе тоже не в этом сервисе, а явялется все же частью бизнес-процессов работы с аукционами.

6.Микросервис уведомлений
Данный сервис несет в себе функциональность уведомлений пользователей и служит изоляцией функциональности по различным способам уведомлений (смс на телефон, почта, телегам и т.д.). Вычление подобного сервиса позволяет отдельно развивать функицональность уведомлений или\и использовать готовые решения для этой цели.
Сервис не хранит в себе данные адресов для уведомлений, а получает их от других сервисов. Поэтому указано, что данный сервис хранит в себе данные необходимые для уведомлений. Имеется виду метаданные для организации уведомлений, но сами данные адресации предоставляет сервис, которуму нужна услуга по уведомлению. Например, если нужно уведомить нового пользовтаеля о том, что он зарегестрирован, то сервис авторизации посылает в сервис уведомлений id пользователя, почту и\или email. Историчной уведомлений будет хранится в самом сервисе, через id пользователя и статус уведомления.

7.Микросервис платежей
Данный сервис осуществляет операции по платежам и взаимодейтвует синхронно с внешним сервисом. Выделения данного сервиса  повзоляет вычленить бизнес-домен работы с платажами и изолировать историю транзакций.



P.S. Фронтенд не разбиваю на микрофронты так как очевидно, что указан не полный набор функций пользовательского интерфейса работы электронной торговой платформы. Гипотетически можно разделить на микрофронт автризации, микрофронт профиля пользователя, микрофронт работы с аукционом, микрофронт работы с Заказами, микрофонт работы с товарыми и услугами. 
Бэковые микросервисы будут взаимодейстовать асинхронно для лучшей изоляции через брокер сообщений на базе kafka и RabbitMQ. 
Все БД микросервисов предполагается развернуть на базе Postgrsql. Единство платформы БД позволит более гибко реализовыть разделение данных. На текущий момент указано, что каждый микросервис имеет свою БД и предполагается, что каждый микросервис будет в отдельном контейнере и БД также в отднльном контейнере. В будущем ничего не мешает объединить при необходимости данных близких микросервисов в один контейнер и делить инстансами или схемими одного инстанса. Унификация БД также позволяет минимизировать разнообразие платформ БД в системе.  




